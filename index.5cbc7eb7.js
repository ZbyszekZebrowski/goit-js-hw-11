!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){n[e]=r},r.parcelRequired7c6=a);var o=a("bpxeT"),l=a("2TvXO"),i=a("6JpON"),s=a("3CGxe"),c=a("6ejHK"),u=a("5IjG7"),d={formEL:document.querySelector("#form"),galleryListEl:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")},f=new(e(u))(".gallery a"),p=new(0,c.PixabayAPI);function y(){return(y=e(o)(e(l).mark((function r(t){var n;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),p.q=t.target.elements.searchQuery.value.trim(),p.page=1,""!==p.q){r.next=7;break}return e(i).Notify.failure("Enter a word to search for"),d.loadMoreBtn.classList.add("is-hidden"),r.abrupt("return");case 7:return r.prev=7,r.next=10,p.getGalleryCard();case 10:if(0!==(n=r.sent).total){r.next=17;break}return e(i).Notify.failure("Sorry, there are no images matching your search query. Please try again."),d.loadMoreBtn.classList.add("is-hidden"),t.target.reset(),d.galleryListEl.innerHTML="",r.abrupt("return");case 17:1===p.page&&(d.galleryListEl.innerHTML=(0,s.galleryTemplate)(n.hits),f.refresh(),e(i).Notify.success("Hooray! We found ".concat(n.totalHits," images.")),d.loadMoreBtn.classList.remove("is-hidden")),r.next=23;break;case 20:r.prev=20,r.t0=r.catch(7),console.log("Error: ".concat(r.t0));case 23:case"end":return r.stop()}}),r,null,[[7,20]])})))).apply(this,arguments)}function h(){return(h=e(o)(e(l).mark((function r(t){var n,a,o;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return p.page+=1,r.prev=1,r.next=4,p.getGalleryCard();case 4:n=r.sent,d.galleryListEl.insertAdjacentHTML("beforeend",(0,s.galleryTemplate)(n.hits)),f.refresh(),d.loadMoreBtn.classList.remove("is-hidden"),a=document.querySelector(".gallery").firstElementChild.getBoundingClientRect(),o=a.height,window.scrollBy({top:2*o,behavior:"smooth"}),p.page>=Math.floor(n.totalHits/p.per_page)&&(d.loadMoreBtn.classList.add("is-hidden"),e(i).Notify.info("Sorry, but you have reached the end of the search results")),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),console.log("Error: ".concat(r.t0));case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))).apply(this,arguments)}d.formEL.addEventListener("submit",(function(e){return y.apply(this,arguments)})),d.loadMoreBtn.addEventListener("click",(function(e){return h.apply(this,arguments)}))}();
//# sourceMappingURL=index.5cbc7eb7.js.map
